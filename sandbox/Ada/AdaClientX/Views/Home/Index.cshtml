@using System.Security.Claims

@if (User?.Identity is { IsAuthenticated: true })
{
    <h2>Welcome, @User.Identity.Name</h2>

    <p>
        @foreach (var claim in Context.User.Claims)
        {
            <div>@claim.Type: <b>@claim.Value</b></div>
        }
    </p>

    if (!string.IsNullOrEmpty(Model))
    {
        <h3>Message received from the resource controller: @Model</h3>
    }

    <a asp-controller="@AccountController.ControllerName" asp-action="Index">Profile</a>

    <form asp-controller="@AuthenticationController.ControllerName"
          asp-action="@AuthenticationController.SsoLogoutActionName"
          asp-route-provider="@AuthenticationController.SsoLoginLocalProvider"
          method="post">
        <button type="submit">Sign out</button>
    </form>
}
else
{
    <h2>Welcome, anonymous</h2>

    <a asp-controller="@AuthenticationController.ControllerName"
       asp-action="@AuthenticationController.SsoLoginActionName"
       asp-route-provider="@AuthenticationController.SsoLoginLocalProvider">Sign in</a>
}
